@using Microsoft.AspNetCore.Localization

@{
    var requestCulture = Context.Features.Get<IRequestCultureFeature>();
    var currentCulture = requestCulture.RequestCulture.UICulture.TwoLetterISOLanguageName;
    var request = Html.ViewContext.HttpContext.Request;
    var currentPath = request.Path + request.QueryString;
}
<form asp-action="SetLanguage" asp-controller="Home" method="post">
    <input name="returnUrl" type="hidden" value="@currentPath" />
    @switch (currentCulture)
    {
        case "en":
            <input type="hidden" name="culture" value="bg" />
            <a href="#" class="lang-set" data-lang="bg">Български</a>
            break;
        default:
            <input type="hidden" name="culture" value="en" />
            <a href="#" class="lang-set" data-lang="en">English</a>
            break;
    }
</form>
