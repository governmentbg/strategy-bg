#pragma checksum "C:\Projects\Strategy\newSingleSite\Domain\Areas\Admin\Views\Shared\UsedImages.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "11f249016c26d2f8c0cdb030dde1b798153bba7f"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Areas_Admin_Views_Shared_UsedImages), @"mvc.1.0.view", @"/Areas/Admin/Views/Shared/UsedImages.cshtml")]
[assembly:global::Microsoft.AspNetCore.Mvc.Razor.Compilation.RazorViewAttribute(@"/Areas/Admin/Views/Shared/UsedImages.cshtml", typeof(AspNetCore.Areas_Admin_Views_Shared_UsedImages))]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#line 1 "C:\Projects\Strategy\newSingleSite\Domain\Areas\Admin\Views\_ViewImports.cshtml"
using Microsoft.AspNetCore.Identity;

#line default
#line hidden
#line 2 "C:\Projects\Strategy\newSingleSite\Domain\Areas\Admin\Views\_ViewImports.cshtml"
using Domain;

#line default
#line hidden
#line 3 "C:\Projects\Strategy\newSingleSite\Domain\Areas\Admin\Views\_ViewImports.cshtml"
using Models.ViewModels;

#line default
#line hidden
#line 4 "C:\Projects\Strategy\newSingleSite\Domain\Areas\Admin\Views\_ViewImports.cshtml"
using Models.ViewModels.Account;

#line default
#line hidden
#line 5 "C:\Projects\Strategy\newSingleSite\Domain\Areas\Admin\Views\_ViewImports.cshtml"
using Models.Context.Account;

#line default
#line hidden
#line 6 "C:\Projects\Strategy\newSingleSite\Domain\Areas\Admin\Views\_ViewImports.cshtml"
using WebCommon.TagHelpers;

#line default
#line hidden
#line 7 "C:\Projects\Strategy\newSingleSite\Domain\Areas\Admin\Views\_ViewImports.cshtml"
using Models;

#line default
#line hidden
#line 8 "C:\Projects\Strategy\newSingleSite\Domain\Areas\Admin\Views\_ViewImports.cshtml"
using Models.Context;

#line default
#line hidden
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"11f249016c26d2f8c0cdb030dde1b798153bba7f", @"/Areas/Admin/Views/Shared/UsedImages.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"ec689d54487eca61e3f158b7f8d73212d01bdb46", @"/Areas/Admin/Views/_ViewImports.cshtml")]
    public class Areas_Admin_Views_Shared_UsedImages : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<FileCDN.Models.FileSelect>
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            BeginContext(34, 197, true);
            WriteLiteral("<fieldset>\r\n    <div id=\"imgList-container\">\r\n\r\n    </div>\r\n</fieldset>\r\n<script>\r\n    $(function () {\r\n        LoadAttachedImages();\r\n    });\r\n    function LoadAttachedImages() {\r\n        $.post(\'");
            EndContext();
            BeginContext(232, 33, false);
#line 12 "C:\Projects\Strategy\newSingleSite\Domain\Areas\Admin\Views\Shared\UsedImages.cshtml"
           Write(Url.Action("GetFileList", "Ajax"));

#line default
#line hidden
            EndContext();
            BeginContext(265, 29, true);
            WriteLiteral("\',\r\n            { sourceType:");
            EndContext();
            BeginContext(296, 16, false);
#line 13 "C:\Projects\Strategy\newSingleSite\Domain\Areas\Admin\Views\Shared\UsedImages.cshtml"
                     Write(Model.SourceType);

#line default
#line hidden
            EndContext();
            BeginContext(313, 11, true);
            WriteLiteral(", sourceId:");
            EndContext();
            BeginContext(326, 14, false);
#line 13 "C:\Projects\Strategy\newSingleSite\Domain\Areas\Admin\Views\Shared\UsedImages.cshtml"
                                                   Write(Model.SourceID);

#line default
#line hidden
            EndContext();
            BeginContext(341, 91, true);
            WriteLiteral("},\r\n            function (data) {\r\n                var canAdd = true;\r\n                if (");
            EndContext();
            BeginContext(434, 35, false);
#line 16 "C:\Projects\Strategy\newSingleSite\Domain\Areas\Admin\Views\Shared\UsedImages.cshtml"
                Write(Model.SingleFile ? "true" : "false");

#line default
#line hidden
            EndContext();
            BeginContext(470, 369, true);
            WriteLiteral(@" && data.length > 0) {
                    canAdd = false;
                }
                var model = {
                    items : data,
                    canAdd: canAdd
                };
                $('#imgList-container').html(TemplateToHtml(""#imageListTemplate"", model));
            });
    }

    function chooseImage() {
        var url = '");
            EndContext();
            BeginContext(840, 104, false);
#line 28 "C:\Projects\Strategy\newSingleSite\Domain\Areas\Admin\Views\Shared\UsedImages.cshtml"
              Write(Html.Raw(Url.Action("Select","Library",new { source_type = GlobalConstants.SourceTypes.Library_Images})));

#line default
#line hidden
            EndContext();
            BeginContext(944, 140, true);
            WriteLiteral("\';\r\n        ShowPlainDialogFromAction(\'Избери изображение\', url);\r\n    }\r\n    function libSelectImage(fileId, fileTitle) {\r\n        $.post(\'");
            EndContext();
            BeginContext(1085, 36, false);
#line 32 "C:\Projects\Strategy\newSingleSite\Domain\Areas\Admin\Views\Shared\UsedImages.cshtml"
           Write(Url.Action("AppendUsedFile", "Ajax"));

#line default
#line hidden
            EndContext();
            BeginContext(1121, 29, true);
            WriteLiteral("\',\r\n            { sourceType:");
            EndContext();
            BeginContext(1152, 16, false);
#line 33 "C:\Projects\Strategy\newSingleSite\Domain\Areas\Admin\Views\Shared\UsedImages.cshtml"
                     Write(Model.SourceType);

#line default
#line hidden
            EndContext();
            BeginContext(1169, 11, true);
            WriteLiteral(", sourceId:");
            EndContext();
            BeginContext(1182, 14, false);
#line 33 "C:\Projects\Strategy\newSingleSite\Domain\Areas\Admin\Views\Shared\UsedImages.cshtml"
                                                   Write(Model.SourceID);

#line default
#line hidden
            EndContext();
            BeginContext(1197, 361, true);
            WriteLiteral(@",fileId:fileId},
            function (data) {
                LoadAttachedImages();
                return false;
            });

        $('.plainModal').hide();
    }
    function removeImage(fileId, fileTitle) {
        if (!confirm('Потвърди премахването на изображението: ' + fileTitle)) {
            return false;
        }
        $.post('");
            EndContext();
            BeginContext(1559, 36, false);
#line 45 "C:\Projects\Strategy\newSingleSite\Domain\Areas\Admin\Views\Shared\UsedImages.cshtml"
           Write(Url.Action("RemoveUsedFile", "Ajax"));

#line default
#line hidden
            EndContext();
            BeginContext(1595, 29, true);
            WriteLiteral("\',\r\n            { sourceType:");
            EndContext();
            BeginContext(1626, 16, false);
#line 46 "C:\Projects\Strategy\newSingleSite\Domain\Areas\Admin\Views\Shared\UsedImages.cshtml"
                     Write(Model.SourceType);

#line default
#line hidden
            EndContext();
            BeginContext(1643, 11, true);
            WriteLiteral(", sourceId:");
            EndContext();
            BeginContext(1656, 14, false);
#line 46 "C:\Projects\Strategy\newSingleSite\Domain\Areas\Admin\Views\Shared\UsedImages.cshtml"
                                                   Write(Model.SourceID);

#line default
#line hidden
            EndContext();
            BeginContext(1671, 397, true);
            WriteLiteral(@",fileId:fileId},
            function (data) {
                LoadAttachedImages();
            });
    }
</script>
<script type=""text/x-handlebars-template"" id=""imageListTemplate"">
    <div class=""row"">
        {{#each items}}
        <div class=""col-lg-6 col-md-12 used-file-block"">
            <div class=""row"">
                <div class=""col-lg-10"">
                    <a href=""");
            EndContext();
            BeginContext(2069, 65, false);
#line 58 "C:\Projects\Strategy\newSingleSite\Domain\Areas\Admin\Views\Shared\UsedImages.cshtml"
                        Write(Html.Raw(Url.Action("DownloadFile", "FileCdn", new { area = ""})));

#line default
#line hidden
            EndContext();
            BeginContext(2134, 52, true);
            WriteLiteral("?id={{fileId}}\">\r\n                        <img src=\"");
            EndContext();
            BeginContext(2187, 118, false);
#line 59 "C:\Projects\Strategy\newSingleSite\Domain\Areas\Admin\Views\Shared\UsedImages.cshtml"
                             Write(Html.Raw(Url.Action("ViewImage","FileCdn",new { area="",sourceType=GlobalConstants.SourceTypes.Library_ImagesThumbs})));

#line default
#line hidden
            EndContext();
            BeginContext(2305, 689, true);
            WriteLiteral(@"&sourceId={{fileId}}"" />
                        <br />
                        {{fileName}}
                    </a>
                </div>
                <div class=""col-lg-2 used-file-remove-button"">
                    <a href=""#"" onclick=""removeImage('{{fileId}}','{{fileTitle}}');return false;"" class=""btn btn-xs btn-danger"" title=""Премахни""><i class=""fa fa-remove""></i></a>
                </div>
            </div>
        </div>
        {{/each}}
    </div>
    {{#if canAdd}}
    <div class=""used-file-add-button"">
        <a href=""#"" onclick=""chooseImage();"" class=""btn btn-sm btn-success""><i class=""fa fa-plus""></i> Добави</a>
    </div>
    {{/if}}
</script>");
            EndContext();
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<FileCDN.Models.FileSelect> Html { get; private set; }
    }
}
#pragma warning restore 1591
